{% extends 'base.html' %}
{% load static %}
{% block content %}


{% if profile %}

<div class="container text-center">
  <div class="row">
    <div class="col-md-8">
      
      
      <br/><br/><br/>
      {% if shouts%}
      {% for shout in shouts %}

      <div class="alert alert-warning border border-warning" role="alert" style="font-family: Rye, serif;">

        {{ shout.body }}<br /><br />
        <small class="text-muted" style="font-family: Rye, serif;">

          {{ shout.created_at }}
          <br/>
          {{ shout.number_of_likes }} Likes
          &nbsp;&nbsp;
          {% if user in shout.likes.all %}
          <a href="{% url 'shout_like' shout.id %}"><i class="fa-lg fa-regular fa-thumbs-down"
              style="color:gray"></i></a>
          {% else %}
          <a href="{% url 'shout_like' shout.id %}"><i class="fa-lg fa-regular fa-thumbs-up" style="color:gray"></i></a>
          {% endif %}

          {% if request.user.username == profile.user.username %}
          &nbsp;&nbsp;
          <a href="{% url 'delete_shout' shout.id %}"><i class="fa-lg fa-regular fa-trash-can"
              style="color:gray"></i></a>
          &nbsp;&nbsp;
          <a href="{% url 'edit_shout' shout.id %}"><i class="fa-lg fa-regular fa-pen-to-square"
          style="color:gray"></i></a>
          {% endif %}

        </small>
      </div><br /></br />
      {% endfor %}
      {% endif %}
    </div>
    
    <div class="col-md-4">
      <br/>
   

      <div class="container mt-4 mb-4 p-3 d-flex justify-content-center">
        <div class="card p-4 border-0" style="background-color:#FFF3CD">
          <div class=" image d-flex flex-column justify-content-center align-items-center">
            {% if profile.profile_image %}
            <img src="{{ profile.profile_image.url }}" height="100" width="100" class="rounded-circle" height:
              auto;>	
        {% endif %}          
            <span class="name mt-3" style="font-family: Rye, serif;">
              {{ profile.user.username }}'s Profile</span>
            <div class="d-flex flex-row justify-content-center align-items-center gap-2">
            </div>
            <div class="d-flex flex-row justify-content-center align-items-center mt-3">
            </div>
            <div class="d-flex mt-2">
              
            </div>
            {% if profile.profile_bio %}
            <div class="text mt-3">
              <span><p align="justify" style="font-family: Rye, serif;">
                  {{ profile.profile_bio}}</p></span>
            </div>
            {% endif %}
            <div class="gap-3 mt-3 icons d-flex flex-row justify-content-center align-items-center">
              
              {% if profile.facebook_link %}
              <a href="{{ profile.facebook_link }}" style="color:gray" target="new">
                <i class="fa-2x fa-brands fa-facebook"></i></a>
              {% endif %}
              
              &nbsp;&nbsp;
              {% if profile.instagram_link %}
              <a href="{{ profile.instagram_link }}" style="color:gray" target="new"><i
                  class="fa-2x fa-brands fa-instagram"></i></a>
              {% endif %}
              &nbsp;&nbsp;
              {% if profile.linkedin_link %}
              <a href="{{ profile.linkedin_link }}" style="color:gray" target="new"><i
                  class="fa-2x fa-brands fa-linkedin"></i></a>
              {% endif %}
            </div>
        
            <br />
            <h5 style="font-family: Rye, serif;"> Follows </h5>
            <p class="card-text">{% for following in profile.follows.all %}
              <a href="{% url 'profile' following.user.id %}" style="font-family: Rye, serif;">{{ following }}</a><br />
              {% endfor %}
            <h5 style="font-family: Rye, serif;"> Followers </h5>
            <p class="card-text">{% for following in profile.followed_by.all %}
              <a href="{% url 'profile' following.user.id %}" style="font-family: Rye, serif;">{{ following }}</a><br />
              {% endfor %}
              
            <form method=POST>
              {% csrf_token %}
              {% if profile in user.profile.follows.all %}
              <button class="btn btn-outline-warning" name="follow" value="unfollow" type="submit"
                style="font-family: Rye, serif;">
                Unfollow {{ profile.user.username|lower}}
              </button>
              
              {% else %}
              <button class="btn btn-outline-warning" name="follow" value="follow" type="submit"
                style="font-family: Rye, serif;">
                Follow {{ profile.user.username|lower}}
              </button>
              {% endif %}
              <br /><br />
              {% if request.user.id == profile.user.id %}
              <button class="btn btn-outline-warning"><a href="{% url 'update_user' %}" class="text-muted"
                  style="font-family: Rye, serif;">Edit Profile</a></button>
              {% endif %}
              
             
          </div>
        </div>
      </div>
    </div>  





{% endif %}

{% endblock %}